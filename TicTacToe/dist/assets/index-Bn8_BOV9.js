var q=Object.defineProperty;var x=(e,r,l)=>r in e?q(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l;var w=(e,r,l)=>(x(e,typeof r!="symbol"?r+"":r,l),l);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function l(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=l(t);fetch(t.href,i)}})();const M=[...document.querySelectorAll(".cell")],O=document.querySelector(".result"),h=document.querySelector(".dropdown");class A{constructor(){w(this,"status");this.status=null}}class E{constructor(){w(this,"cells");this.cells=[];for(let r=0;r<3;r++)for(let l=0;l<3;l++)this.cells.push(new A)}}const s={none:"n",cross:"x",circle:"o"};let u,m=s.circle,y=!0,S=!1,N=h.value;h.addEventListener("change",()=>{S&&(P(s.none),u=new E,y=!0,S=!1,O.innerHTML="",j()),N=h.value});function T(e){for(let r=0;r<2;r++){let l=r==0?s.cross:s.circle;for(let n=0;n<e.length;n++){let t=!0;for(let i=0;i<e.length;i++)e[n][i]!=l&&(t=!1);if(t)return l}for(let n=0;n<e.length;n++){let t=!0;for(let i=0;i<e.length;i++)e[i][n]!=l&&(t=!1);if(t)return l}for(let n=0;n<2;n++){let t=!0,i=n==0?[0,0]:[0,2];for(let f=0;f<3;f++)e[i[0]][i[1]]!=l&&(t=!1),i[0]+=1,i[1]+=n==0?1:-1;if(t)return l}}return J(e)?s.none:!1}function J(e){for(let r=0;r<3;r++)for(let l=0;l<3;l++)if(e[r][l]==null)return!1;return!0}function C(){let e=[],r=0;for(let l=0;l<3;l++){let n=[];for(let t=0;t<3;t++)n.push(u.cells[r].status),r++;e.push(n)}return e}function j(){let e=0;for(let r=0;r<3;r++)for(let l=0;l<3;l++){let n=[...M[e].children][0];u.cells[e].status==s.cross?n.src="cross.svg":u.cells[e].status==s.circle?n.src="circle.svg":n.src="blank.svg",e++}}function P(e){let r="";return e===s.cross?r="Cross Won!":e===s.circle?r="Circle Won!":e===s.none&&(r="Draw!"),O.innerHTML=r,y=!1,!0}function L(){j();let e=C(),r=T(e);return r?P(r):!1}function H(){let e=0;M.forEach(r=>{let l=e;r.addEventListener("click",()=>{R(l)}),e++}),u=new E}H();function R(e){if(!y){u=new E,y=!0,S=!1,O.innerHTML="",j();return}if(S=!0,N=="ai"){if(m=s.circle,u.cells[e].status==null)u.cells[e].status=m;else return;L();let r=v(C(),!0,0,-99999,99999)[1],l=0;for(let n=0;n<3;n++)for(let t=0;t<3;t++)u.cells[l].status=r[n][t],l++;L()}else{if(u.cells[e].status==null)u.cells[e].status=m,m=m==s.circle?s.cross:s.circle;else return;L()}}function v(e,r,l,n,t){let i=m,f=m==s.circle?s.cross:s.circle,p=T(e);if(p){if(p===i)return[-10,e,l];if(p===f)return[10,e,l];if(p===s.none)return[0,e,l]}if(r){let g,a=-9999;for(let o=0;o<3;o++)for(let c=0;c<3;c++)if(e[o][c]==null){if(t<=n)continue;e[o][c]=f;let d=v(e,!r,l+1,n,t);d[0]-d[2]>a&&(a=d[0]-d[2],n=a,g=JSON.parse(JSON.stringify(e))),e[o][c]=null}return[a,g,l]}else{let g,a=9999;for(let o=0;o<3;o++)for(let c=0;c<3;c++)if(e[o][c]==null){if(t<=n)continue;e[o][c]=i;let d=v(e,!r,l+1,n,t);d[0]+d[2]<a&&(a=d[0]+d[2],t=a,g=JSON.parse(JSON.stringify(e))),e[o][c]=null}return[a,g,l]}}
